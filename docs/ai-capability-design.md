# Taonix AI 能力增強設計

## 概述

賦予 Taonix Agent 三種 AI 能力：

1. 意圖理解 - 理解模糊指令
2. 智能決策 - 自動判斷呼叫哪個 Agent
3. 內容生成 - 生成分析報告

---

## 一、意圖理解模組 (Intent Understanding)

### 目標

將使用者模糊的自然語言指令轉換為具體的 Agent 動作

### 功能

- **語義解析** - 理解「帮我看看最近有啥热门」「有什麼新東西」等模糊表達
- **關鍵詞提取** - 識別語言、時間、範圍等條件
- **指令分類** - 判斷需要哪個 Agent 處理

### 實現方式

```javascript
// 輸入
"帮我看看最近 python 有什么好玩的开源项目"

// 輸出
{
  intent: "search_trending",
  agent: "explorer",
  params: { language: "python", category: "interesting" }
}
```

### 技術方案

- 使用 LLM 進行意圖分類
- 建立意圖模板庫 (rule-based fallback)
- 支援多輪對話補全資訊

---

## 二、智能決策模組 (Smart Decision)

### 目標

自動判斷何時該呼叫哪個 Agent、如何組合結果

### 功能

- **任務拆解** - 複雜任務拆分為多個子任務
- **Agent 調度** - 根據任務類型選擇合適的 Agent
- **結果整合** - 將多個 Agent 結果組合成完整回覆

### 實現方式

```javascript
// 輸入
"帮我分析一下这个项目的代码质量"

// 決策過程
1. 判斷需要: oracle (結構分析) + reviewer (品質檢查)
2. 調度 Agent 順序
3. 整合結果
```

### 技術方案

- 決策樹 / 規則引擎
- LLM 輔助複雜任務拆解
- 結果組合邏輯

---

## 三、內容生成模組 (Content Generation)

### 目標

不只回傳 raw data，而是生成有價值的分析報告

### 功能

- **數據解讀** - 將 API 回應轉化為有意義的分析
- **趨勢判斷** - 根據數據提供趨勢觀點
- **建議生成** - 基於分析結果給出建議

### 實現方式

```javascript
// 輸入 (Explorer 回傳)
[{ name: "repo1", stars: 1000 }, { name: "repo2", stars: 800 }]

// 輸出 (生成報告)
"今日 Python 趨勢觀察：
- repo1 獲得較多關注，主因是...
- 整體趨勢顯示 AI 領域持續火熱
- 建議關注..."
```

### 技術方案

- 提示詞模板 (Prompt Templates)
- LLM 生成分析內容
- 結構化輸出格式化

---

## 四、整合架構

```
使用者輸入
    ↓
┌─────────────────┐
│  意圖理解模組   │ ← LLM + 規則
└────────┬────────┘
         ↓
┌─────────────────┐
│  智能決策模組   │ ← 任務拆解 + Agent 調度
└────────┬────────┘
         ↓
    Agent 執行
         ↓
┌─────────────────┐
│  內容生成模組   │ ← LLM + 模板
└────────┬────────┘
         ↓
    最終輸出
```

---

## 五、開發規劃

### 階段 4.1：意圖理解

- 建立意圖分類器
- 實現關鍵詞提取
- 測試模糊指令理解

### 階段 4.2：智能決策

- 實現任務拆解邏輯
- 建立 Agent 調度策略
- 結果組合機制

### 階段 4.3：內容生成

- 建立提示詞模板
- 實現分析生成
- 整合 LLM 能力

---

## 六、技術選型

- **意圖理解**: LLM API + 正則表達式 fallback
- **智能決策**: 規則引擎 + LLM 輔助
- **內容生成**: LLM API + 模板

---

## 七、待討論事項

1. 使用哪個 LLM provider？（OpenAI / Claude / 本地模型）
2. 是否需要本地部署？
3. 優先順序？
